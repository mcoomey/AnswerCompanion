$("#messages .alert").hide();
$("#messages .ujs_alert").hide();
$("#messages .notice").hide();
$("#messages .ujs_notice").hide();

if ($.cookie('index_tab') == "#current-subjects") {
	$("#buttonarea").hide().after("<%= j render 'new_subject', :archived_val => false %>");
	}
else {
	$("#buttonarea").hide().after("<%= j render 'new_subject', :archived_val => true %>");
	}

$("#subject_subcategory_name").autocomplete({
  minLength: 0,
  delay: 0,
  source: $("#subject_subcategory_name").data("autocomplete-source"),
  messages: {noResults: '', results: ''}
  });

$("#subject_category_name").autocomplete({
  minLength: 0,
  delay: 0,
  source: $("#subject_category_name").data("autocomplete-source"),
  messages: {noResults: '', results: ''},
  select: function(event, ui) {
    var subcatSub;
    subcatSub = $("#subject_subcategory_name").data("autocomplete-source").replace(/\=.*/, "=" + ui.item.value);
    return $("#subject_subcategory_name").autocomplete("option", "source", subcatSub);
	  },
  change: function(event, ui) {
    return $("#subject_subcategory_name").val("");
	  }
	});
